<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Hisab Kitab</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-J95YDM55T8"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-J95YDM55T8');</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=DM+Serif+Display&display=swap" rel="stylesheet">
    <style>
        :root{
            --font-sans:'DM Sans',sans-serif;--font-serif:'DM Serif Display',serif;
            --bg:#F5F5F7;--bg-card:#FFFFFF;--bg-input:#F2F2F4;--bg-hover:#E8E8EC;
            --border:rgba(0,0,0,0.08);--border-focus:#3B7AFF;
            --text-primary:#1D1D1F;--text-secondary:#48484A;--text-muted:#8E8E93;--text-disabled:#AEAEB2;
            --accent:#3B7AFF;--accent-light:#EBF2FF;--accent-dark:#1A56DB;
            --green:#34C759;--green-light:#EBF9EE;--green-text:#1A7A33;--green-dark:#28A348;
            --red:#FF3B30;--red-light:#FFF0EE;--red-text:#C0170F;
            --amber:#FF9500;--amber-light:#FFF7E6;
            --gulnaz-color:#7C3AED;--gulnaz-light:#F3EEFF;
            --ghazala-color:#D97706;--ghazala-light:#FFF7E6;
            --shadow-xs:0 1px 2px rgba(0,0,0,0.04);
            --shadow-sm:0 2px 8px rgba(0,0,0,0.06),0 0 1px rgba(0,0,0,0.04);
            --shadow-md:0 8px 24px rgba(0,0,0,0.08),0 0 1px rgba(0,0,0,0.04);
            --shadow-lg:0 20px 60px rgba(0,0,0,0.14),0 0 1px rgba(0,0,0,0.06);
            --r-sm:8px;--r-md:12px;--r-lg:16px;--r-xl:20px;--r-2xl:28px;
        }
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
        html,body{height:100%;width:100%;overflow:hidden;}
        body{font-family:var(--font-sans);background:var(--bg);color:var(--text-primary);font-size:15px;line-height:1.5;-webkit-font-smoothing:antialiased;position:fixed;inset:0;}
        ::-webkit-scrollbar{width:5px;}::-webkit-scrollbar-track{background:transparent;}::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.12);border-radius:99px;}
        input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;}
        input[type=number]{-moz-appearance:textfield;}

        @keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
        @keyframes spin{to{transform:rotate(360deg)}}
        @keyframes shake{10%,90%{transform:translateX(-2px)}20%,80%{transform:translateX(3px)}30%,50%,70%{transform:translateX(-5px)}40%,60%{transform:translateX(5px)}}
        @keyframes entryIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:.45}}
        @keyframes successPop{0%{transform:scale(1)}30%{transform:scale(1.06)}100%{transform:scale(1)}}
        @keyframes groupIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
        @keyframes owesIn{from{opacity:0;transform:scale(0.95) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}
        @keyframes sheetUp{from{transform:translateY(100%)}to{transform:translateY(0)}}

        .anim-spin{animation:spin 0.9s linear infinite;}
        .anim-shake{animation:shake 0.6s cubic-bezier(.36,.07,.19,.97) both;}
        .chip label{transition:background .15s,border-color .15s,color .15s,transform .15s cubic-bezier(.34,1.56,.64,1);}
        .chip label:active{transform:scale(0.92);}

        /* AUTH */
        #auth-container{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:20px;background:var(--bg);z-index:100;}
        .auth-card{width:100%;max-width:380px;background:var(--bg-card);border-radius:var(--r-2xl);box-shadow:var(--shadow-lg);border:1px solid var(--border);padding:36px 32px;animation:fadeUp 0.5s cubic-bezier(.22,1,.36,1) both;}
        .auth-logo{width:52px;height:52px;background:linear-gradient(135deg,var(--accent) 0%,#7B5EA7 100%);border-radius:14px;display:flex;align-items:center;justify-content:center;margin-bottom:20px;box-shadow:0 4px 12px rgba(59,122,255,0.32);}
        .auth-logo svg{width:28px;height:28px;color:white;}
        .auth-title{font-family:var(--font-serif);font-size:28px;color:var(--text-primary);margin-bottom:4px;}
        .auth-sub{font-size:14px;color:var(--text-muted);margin-bottom:28px;}
        .form-group{margin-bottom:12px;}
        .remember-row{display:flex;align-items:center;gap:8px;margin-bottom:16px;}
        .remember-row input[type="checkbox"]{width:18px;height:18px;accent-color:var(--accent);cursor:pointer;}
        .remember-row label{font-size:14px;color:var(--text-secondary);cursor:pointer;}
        .auth-footer{display:flex;align-items:center;justify-content:space-between;margin-top:16px;}
        .link-btn{background:none;border:none;font-family:var(--font-sans);font-size:14px;color:var(--accent);cursor:pointer;font-weight:500;transition:color .15s;}
        .link-btn:hover{color:var(--accent-dark);}
        a.contact-link{font-size:17px;font-weight:600;color:var(--accent);display:block;text-align:center;margin:10px 0;text-decoration:none;}

        /* INPUTS */
        .input{width:100%;height:48px;background:var(--bg-input);border:1.5px solid transparent;border-radius:var(--r-md);padding:0 14px;font-family:var(--font-sans);font-size:15px;color:var(--text-primary);transition:border-color .18s,box-shadow .18s,background .18s;outline:none;}
        .input::placeholder{color:var(--text-muted);}
        .input:focus{border-color:var(--border-focus);background:#fff;box-shadow:0 0 0 3px rgba(59,122,255,0.12);}
        .amount-wrap{display:flex;align-items:center;background:var(--bg-input);border:1.5px solid transparent;border-radius:var(--r-md);transition:border-color .18s,box-shadow .18s,background .18s;overflow:hidden;}
        .amount-wrap:focus-within{border-color:var(--border-focus);background:#fff;box-shadow:0 0 0 3px rgba(59,122,255,0.12);}
        .amount-prefix{padding:0 2px 0 14px;font-size:20px;font-weight:700;color:var(--text-muted);line-height:1;flex-shrink:0;user-select:none;transition:color .18s;}
        .amount-wrap:focus-within .amount-prefix{color:var(--text-primary);}
        .amount-input{flex:1;height:56px;background:transparent;border:none;outline:none;font-family:var(--font-sans);font-size:26px;font-weight:700;color:var(--text-primary);padding:0 14px 0 6px;letter-spacing:-0.02em;}
        .amount-input::placeholder{color:var(--text-disabled);font-weight:400;font-size:22px;}

        /* BUTTONS */
        button{font-family:var(--font-sans);cursor:pointer;border:none;}
        .btn-primary{display:flex;align-items:center;justify-content:center;gap:8px;background:var(--accent);color:#fff;font-size:15px;font-weight:600;letter-spacing:-0.01em;padding:0 20px;height:52px;border-radius:var(--r-md);transition:background .18s,transform .18s,box-shadow .18s;box-shadow:0 2px 8px rgba(59,122,255,0.28);white-space:nowrap;}
        .btn-primary:hover:not(:disabled){background:var(--accent-dark);transform:translateY(-1px);box-shadow:0 4px 16px rgba(59,122,255,0.36);}
        .btn-primary:active:not(:disabled){transform:translateY(0);}
        .btn-primary:disabled{opacity:0.65;cursor:default;transform:none;}
        .btn-primary.btn-success{background:var(--green-dark)!important;box-shadow:0 2px 8px rgba(40,163,72,0.28)!important;animation:successPop 0.4s cubic-bezier(.34,1.56,.64,1);}
        .btn-ghost{display:flex;align-items:center;justify-content:center;gap:6px;background:var(--bg-input);color:var(--text-secondary);font-size:14px;font-weight:500;height:52px;padding:0 18px;border-radius:var(--r-md);transition:background .15s,color .15s;}
        .btn-ghost:hover{background:var(--bg-hover);color:var(--text-primary);}
        .btn-icon{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;background:transparent;color:var(--text-secondary);transition:background .15s,color .15s;flex-shrink:0;}
        .btn-icon:hover{background:var(--bg-hover);color:var(--text-primary);}
        .btn-danger-icon{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:50%;background:var(--red-light);color:var(--red-text);flex-shrink:0;transition:background .15s,color .15s;}
        .btn-danger-icon:hover{background:var(--red);color:#fff;}

        /* CHIPS */
        .chip-group{display:flex;flex-wrap:wrap;gap:7px;}
        .chip input[type="radio"]{position:absolute;opacity:0;width:0;height:0;}
        .chip label{display:inline-flex;align-items:center;justify-content:center;height:36px;padding:0 13px;border-radius:99px;background:var(--bg-input);color:var(--text-secondary);font-size:13px;font-weight:500;cursor:pointer;border:1.5px solid transparent;user-select:none;white-space:nowrap;will-change:transform;}
        .chip input[type="radio"]:checked+label{background:var(--accent-light);border-color:var(--accent);color:var(--accent-dark);font-weight:600;}
        .chip label:hover{background:var(--bg-hover);}
        .chip input[type="radio"]:checked+label:hover{background:var(--accent-light);}
        .chip-name label{height:44px;padding:0 20px;font-size:15px;}
        .other-expand-chip{display:inline-flex;align-items:center;gap:6px;height:36px;padding:0 13px;border-radius:99px;background:var(--bg-input);color:var(--text-muted);font-size:13px;font-weight:500;cursor:pointer;border:1.5px dashed var(--border);transition:background .15s,border-color .15s,color .15s,transform .15s cubic-bezier(.34,1.56,.64,1);white-space:nowrap;}
        .other-expand-chip:hover{background:var(--bg-hover);border-color:var(--text-muted);color:var(--text-secondary);}
        .other-expand-chip:active{transform:scale(0.92);}
        .other-expand-chip.active{background:var(--accent-light);border-color:var(--accent);color:var(--accent-dark);border-style:solid;font-weight:600;}
        .other-input-wrap{overflow:hidden;max-height:0;opacity:0;transition:max-height .35s cubic-bezier(.22,1,.36,1),opacity .25s;}
        .other-input-wrap.open{max-height:60px;opacity:1;margin-top:10px;}

        /* FORM SECTIONS */
        .form-section{background:var(--bg-card);border-radius:var(--r-xl);border:1px solid var(--border);box-shadow:var(--shadow-xs);padding:16px;margin-bottom:12px;transition:box-shadow .2s;}
        .form-section:focus-within{box-shadow:var(--shadow-sm);}
        .section-label{font-size:11px;font-weight:600;letter-spacing:0.06em;text-transform:uppercase;color:var(--text-muted);margin-bottom:8px;padding:0 2px;}
        .form-actions{display:flex;gap:10px;margin-top:14px;}

        /* ══ PAGE SYSTEM ══ */
        #root{position:fixed;inset:0;overflow:hidden;}
        #page-home{position:absolute;inset:0;display:flex;flex-direction:column;background:var(--bg);transition:transform .38s cubic-bezier(.22,1,.36,1),opacity .28s;}
        #page-home.page-exit{transform:translateX(-40px);opacity:0;pointer-events:none;}
        #page-transactions{position:absolute;inset:0;display:flex;flex-direction:column;background:var(--bg);transform:translateX(100%);opacity:0;transition:transform .38s cubic-bezier(.22,1,.36,1),opacity .28s;pointer-events:none;}
        #page-transactions.page-enter{transform:translateX(0);opacity:1;pointer-events:auto;}

        /* HEADER */
        .app-header{display:flex;align-items:center;padding:10px 14px 8px;padding-top:calc(10px + env(safe-area-inset-top));background:rgba(245,245,247,0.92);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid var(--border);gap:10px;flex-shrink:0;z-index:10;}
        .app-header-title{font-family:var(--font-serif);font-size:21px;color:var(--text-primary);flex:1;}

        /* HAMBURGER */
        .hamburger-menu{position:relative;}
        .menu-panel{position:absolute;top:calc(100% + 8px);left:0;width:220px;background:var(--bg-card);border-radius:var(--r-lg);border:1px solid var(--border);box-shadow:var(--shadow-md);padding:8px;transform-origin:top left;transform:scale(0.94) translateY(-6px);opacity:0;pointer-events:none;transition:transform .22s cubic-bezier(.22,1,.36,1),opacity .18s;z-index:50;}
        .menu-panel.show{transform:scale(1) translateY(0);opacity:1;pointer-events:auto;}
        .menu-user-row{display:flex;align-items:center;justify-content:space-between;padding:8px 10px 10px;border-bottom:1px solid var(--border);margin-bottom:6px;gap:6px;}
        #user-email-display{font-size:12px;color:var(--text-muted);word-break:break-all;line-height:1.4;flex:1;}
        .menu-item{display:flex;align-items:center;gap:10px;width:100%;padding:10px;border-radius:var(--r-sm);font-size:14px;font-weight:500;color:var(--text-secondary);background:transparent;text-align:left;transition:background .13s,color .13s;min-height:40px;}
        .menu-item:hover{background:var(--bg-input);color:var(--text-primary);}
        .menu-item svg{flex-shrink:0;}

        /* SCROLL */
        .page-scroll{flex:1;overflow-y:auto;padding:14px 14px calc(14px + env(safe-area-inset-bottom));}
        .content-wrap{max-width:440px;margin:0 auto;}

        /* ══ OWES HERO BANNER ══ */
        .owes-banner{display:none;margin-top:18px;margin-bottom:0;border-radius:var(--r-xl);overflow:hidden;box-shadow:var(--shadow-md);}
        .owes-banner.visible{display:block;animation:owesIn 0.55s cubic-bezier(.22,1,.36,1) both;}
        .owes-banner-inner{padding:14px 18px 13px;}
        .owes-banner.gulnaz-owes .owes-banner-inner{background:linear-gradient(140deg,#4C1D95 0%,#6D28D9 50%,#8B5CF6 100%);}
        .owes-banner.ghazala-owes .owes-banner-inner{background:linear-gradient(140deg,#78350F 0%,#B45309 50%,#D97706 100%);}
        .owes-eyebrow{font-size:10px;font-weight:700;letter-spacing:0.1em;text-transform:uppercase;color:rgba(255,255,255,0.55);margin-bottom:5px;}
        .owes-row{display:flex;align-items:baseline;gap:8px;flex-wrap:wrap;margin-bottom:2px;}
        .owes-name{font-family:var(--font-serif);font-size:20px;color:#fff;line-height:1.1;}
        .owes-verb{font-size:13px;color:rgba(255,255,255,0.65);font-weight:500;}
        .owes-amount{font-family:var(--font-serif);font-size:38px;color:#fff;letter-spacing:-0.04em;line-height:1;margin-bottom:2px;}
        .owes-amount-sub{font-size:11px;color:rgba(255,255,255,0.45);font-weight:500;margin-bottom:10px;}
        .owes-breakdown{display:flex;gap:0;border-top:1px solid rgba(255,255,255,0.15);padding-top:10px;}
        .owes-breakdown-cell{flex:1;text-align:center;}
        .owes-breakdown-cell+.owes-breakdown-cell{border-left:1px solid rgba(255,255,255,0.15);}
        .owes-bd-label{font-size:9px;font-weight:600;letter-spacing:0.06em;text-transform:uppercase;color:rgba(255,255,255,0.45);margin-bottom:2px;}
        .owes-bd-value{font-size:14px;font-weight:700;color:#fff;}

        /* RECENT */
        .recent-header{display:flex;align-items:center;justify-content:space-between;margin:4px 0 10px;}
        .recent-title{font-size:17px;font-weight:600;color:var(--text-primary);}
        .btn-view-all{display:inline-flex;align-items:center;gap:5px;height:32px;padding:0 12px;border-radius:99px;background:var(--accent-light);color:var(--accent-dark);font-size:13px;font-weight:600;border:none;cursor:pointer;transition:background .15s,color .15s;}
        .btn-view-all:hover{background:var(--accent);color:#fff;}
        .entries-card{background:var(--bg-card);border-radius:var(--r-xl);border:1px solid var(--border);box-shadow:var(--shadow-xs);overflow:hidden;}
        .entry-item{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid var(--border);animation:entryIn .35s cubic-bezier(.22,1,.36,1) both;}
        .entry-item:last-child{border-bottom:none;}
        .entry-emoji{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:19px;flex-shrink:0;margin-right:12px;}
        .entry-emoji.gulnaz{background:var(--gulnaz-light);}
        .entry-emoji.ghazala{background:var(--ghazala-light);}
        .entry-info{flex:1;min-width:0;}
        .entry-name{font-size:13px;font-weight:600;color:var(--text-primary);}
        .entry-tag{font-size:14px;color:var(--text-muted);margin-top:1px;font-weight:500;}
        .entry-right{text-align:right;flex-shrink:0;margin-left:10px;}
        .entry-amount{font-size:15px;font-weight:700;}
        .entry-amount.gulnaz{color:var(--gulnaz-color);}
        .entry-amount.ghazala{color:var(--ghazala-color);}
        .entry-date{font-size:11px;color:var(--text-disabled);margin-top:2px;}
        .view-all-row{display:flex;align-items:center;justify-content:center;padding:11px 16px;border-top:1px solid var(--border);gap:6px;cursor:pointer;background:transparent;transition:background .12s;width:100%;}
        .view-all-row:hover{background:var(--bg);}
        .view-all-row span{font-size:13px;font-weight:600;color:var(--accent);}
        .view-all-row svg{color:var(--accent);}

        .skeleton{background:var(--bg-input);border-radius:6px;animation:pulse 1.4s ease-in-out infinite;}
        .skeleton-entry{display:flex;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid var(--border);}
        .skeleton-entry:last-child{border-bottom:none;}
        .sk-avatar{width:40px;height:40px;border-radius:50%;flex-shrink:0;}.sk-lines{flex:1;}

        /* ══ TRANSACTIONS PAGE ══ */
        .tx-page-header{display:flex;align-items:center;padding:10px 6px 8px;padding-top:calc(10px + env(safe-area-inset-top));background:rgba(245,245,247,0.92);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid var(--border);gap:4px;flex-shrink:0;}
        .tx-page-title{font-family:var(--font-serif);font-size:21px;color:var(--text-primary);flex:1;}
        .tx-summary-bar{display:flex;align-items:stretch;border-bottom:1px solid var(--border);flex-shrink:0;}
        .tx-summary-cell{flex:1;padding:12px 10px;text-align:center;border-right:1px solid var(--border);}
        .tx-summary-cell:last-child{border-right:none;}
        .tx-summary-label{font-size:10px;font-weight:600;letter-spacing:0.06em;text-transform:uppercase;color:var(--text-muted);margin-bottom:3px;}
        .tx-summary-value{font-size:15px;font-weight:700;}
        .tx-summary-value.gulnaz{color:var(--gulnaz-color);}
        .tx-summary-value.ghazala{color:var(--ghazala-color);}
        .tx-summary-value.owed{color:var(--green-text);}
        .tx-toolbar{display:flex;align-items:center;padding:10px 16px 12px;border-bottom:1px solid var(--border);flex-shrink:0;background:var(--bg-card);}
        .tx-toolbar .input{height:40px;font-size:14px;}
        .date-group{animation:groupIn .3s cubic-bezier(.22,1,.36,1) both;}
        .date-group-header{padding:10px 16px 6px;position:sticky;top:0;background:rgba(245,245,247,0.94);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);z-index:2;}
        .date-group-label{font-size:11px;font-weight:700;color:var(--text-muted);letter-spacing:0.05em;text-transform:uppercase;}
        .tx-row{display:flex;align-items:center;padding:11px 16px;border-bottom:1px solid rgba(0,0,0,0.04);transition:background .12s;gap:12px;}
        .tx-row:last-child{border-bottom:none;}
        .tx-row:hover{background:var(--bg);}
        .tx-emoji{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:19px;flex-shrink:0;}
        .tx-emoji.gulnaz{background:var(--gulnaz-light);}
        .tx-emoji.ghazala{background:var(--ghazala-light);}
        .tx-info{flex:1;min-width:0;}
        .tx-name{font-size:13px;font-weight:600;color:var(--text-primary);}
        .tx-tag{display:inline-bloc